<!DOCTYPE  html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=utf-8"/><title>Clock Domain Considerations</title><link href="navigation.css" rel="stylesheet" type="text/css"/><link href="document.css" rel="stylesheet" type="text/css"/></head><body><p class="top_nav"><a href="part22.htm">&lt; Previous</a><span> | </span><a href="../Speedster7t_GDDR6_Reference_Design_Guide_RD017.html">Contents</a><span> | </span><a href="part24.htm">Next &gt;</a></p><p class="s9" style="padding-top: 2pt;padding-left: 11pt;text-indent: 0pt;text-align: left;"><a name="bookmark22">&zwnj;</a>Clock Domain Considerations</p><p style="padding-top: 10pt;padding-left: 11pt;text-indent: 0pt;text-align: left;">All inputs and outputs are synchronous to the clock input,</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="text-indent: 0pt;text-align: left;"><span><img width="48" height="21" alt="image" src="Image_203.png"/></span></p><p class="s8" style="padding-top: 3pt;padding-left: 3pt;text-indent: 0pt;text-align: left;">i_clk</p><p class="s8" style="padding-top: 3pt;padding-left: 3pt;text-indent: 0pt;text-align: left;">i_clk</p><p style="text-indent: 0pt;text-align: left;"/><p class="s8" style="padding-top: 3pt;padding-left: 3pt;text-indent: 0pt;text-align: left;">i_clk</p><p style="padding-left: 11pt;text-indent: 0pt;text-align: left;">, which must be connected to the AXI interface</p><p style="text-indent: 0pt;text-align: left;"><span><img width="56" height="21" alt="image" src="Image_204.png"/></span></p><p class="s8" style="padding-top: 3pt;padding-left: 3pt;text-indent: 0pt;text-align: left;">axi_if</p><p class="s8" style="padding-top: 3pt;padding-left: 3pt;text-indent: 0pt;text-align: left;">axi_if</p><p style="text-indent: 0pt;text-align: left;"/><p class="s8" style="padding-top: 3pt;padding-left: 3pt;text-indent: 0pt;text-align: left;">axi_if</p><p style="padding-top: 5pt;padding-left: 11pt;text-indent: 0pt;text-align: left;">clock that drives     .</p><p style="padding-top: 8pt;padding-left: 11pt;text-indent: 0pt;text-align: left;">It is supposed that the AXI performance monitor is directly connected to the register control block. In these instances, it is necessary to consider the multiple clock domains between the monitor and the register block. The following methods are suggested to ensure data integrity when reading the result registers:</p><p style="text-indent: 0pt;text-align: left;"><span><img width="48" height="21" alt="image" src="Image_205.png"/></span></p><p class="s8" style="padding-top: 3pt;padding-left: 3pt;text-indent: 0pt;text-align: left;">i_clk</p><p class="s8" style="padding-top: 3pt;padding-left: 3pt;text-indent: 0pt;text-align: left;">i_clk</p><p style="text-indent: 0pt;text-align: left;"/><p class="s8" style="padding-top: 3pt;padding-left: 3pt;text-indent: 0pt;text-align: left;">i_clk</p><p style="padding-top: 9pt;padding-left: 18pt;text-indent: 0pt;text-align: left;">1. Connect the register control block to the same clock as    . In many designs this might not be desirable if</p><p style="text-indent: 0pt;text-align: left;"><span><img width="64" height="21" alt="image" src="Image_206.png"/></span></p><p class="s8" style="padding-top: 3pt;padding-left: 3pt;text-indent: 0pt;text-align: left;">i_start</p><p class="s8" style="padding-top: 3pt;padding-left: 3pt;text-indent: 0pt;text-align: left;">i_start</p><p style="text-indent: 0pt;text-align: left;"/><p class="s8" style="padding-top: 3pt;padding-left: 3pt;text-indent: 0pt;text-align: left;">i_start</p><p style="text-indent: 0pt;text-align: left;"><span><img width="56" height="21" alt="image" src="Image_207.png"/></span></p><p class="s8" style="padding-top: 3pt;padding-left: 3pt;text-indent: 0pt;text-align: left;">i_stop</p><p class="s8" style="padding-top: 3pt;padding-left: 3pt;text-indent: 0pt;text-align: left;">i_stop</p><p style="text-indent: 0pt;text-align: left;"/><p class="s8" style="padding-top: 3pt;padding-left: 3pt;text-indent: 0pt;text-align: left;">i_stop</p><p style="text-indent: 0pt;text-align: left;"><span><img width="56" height="21" alt="image" src="Image_208.png"/></span></p><p class="s8" style="padding-top: 3pt;padding-left: 3pt;text-indent: 0pt;text-align: left;">i_stop</p><p class="s8" style="padding-top: 3pt;padding-left: 3pt;text-indent: 0pt;text-align: left;">i_stop</p><p style="text-indent: 0pt;text-align: left;"/><p class="s8" style="padding-top: 3pt;padding-left: 3pt;text-indent: 0pt;text-align: left;">i_stop</p><p style="padding-top: 2pt;padding-left: 31pt;text-indent: 0pt;text-align: left;">the register control block controls many functions of the design, or for timing closure reasons.</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="padding-top: 3pt;padding-left: 17pt;text-indent: 0pt;text-align: left;">2. Start and stop the measurements using</p><p style="padding-top: 3pt;padding-left: 17pt;text-indent: 0pt;text-align: left;">and</p><p style="padding-top: 3pt;padding-left: 17pt;text-indent: 0pt;text-align: left;">. Read the results after</p><p style="padding-top: 3pt;padding-left: 17pt;text-indent: 0pt;text-align: left;">has been</p><p style="padding-top: 2pt;padding-left: 31pt;text-indent: 0pt;text-align: left;">issued, when the output result registers are stable. This is the method used in the provided reference designs.</p><p style="text-indent: 0pt;text-align: left;"><span><img width="456" height="67" alt="image" src="Image_209.png"/></span></p><p style="padding-top: 8pt;padding-left: 31pt;text-indent: -13pt;line-height: 138%;text-align: left;">3. Insert clock domain crossing synchronizers ( <span class="s8">ACX_SYNCHRONIZER </span>) on all AXI performance monitor register outputs (not required on <span class="s8">o_clock_freq_data_width </span>as this is a constant value). This results in an</p><p class="s8" style="padding-top: 3pt;padding-left: 3pt;text-indent: 0pt;text-align: left;">× 32-bits ×</p><p class="s8" style="padding-top: 3pt;padding-left: 3pt;text-indent: 0pt;text-align: left;">× 32-bits ×</p><p style="text-indent: 0pt;text-align: left;"/><p class="s8" style="padding-top: 3pt;padding-left: 3pt;text-indent: 0pt;text-align: left;">× 32-bits ×</p><p style="padding-left: 31pt;text-indent: 0pt;text-align: left;">additional <span class="s8">6 registers       2 flops per synchronizer = 384 </span>registers.</p><p style="padding-top: 5pt;text-indent: 0pt;text-align: left;"><br/></p><p class="nav">&nbsp;&nbsp;</p><p class="nav">&nbsp;</p><p class="nav"><a href="part22.htm">&lt; Previous</a><span> | </span><a href="../Speedster7t_GDDR6_Reference_Design_Guide_RD017.html">Contents</a><span> | </span><a href="part24.htm">Next &gt;</a></p><p class="nav">&nbsp;&nbsp;</p></body></html>
