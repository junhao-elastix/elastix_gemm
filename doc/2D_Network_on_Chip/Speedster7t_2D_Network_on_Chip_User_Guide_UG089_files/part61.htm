<!DOCTYPE  html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=utf-8"/><title>Flits and AXI Protocol</title><link href="navigation.css" rel="stylesheet" type="text/css"/><link href="document.css" rel="stylesheet" type="text/css"/></head><body><p class="top_nav"><a href="part60.htm">&lt; Previous</a><span> | </span><a href="../Speedster7t_2D_Network_on_Chip_User_Guide_UG089.html">Contents</a><span> | </span><a href="part62.htm">Next &gt;</a></p><p class="s17" style="padding-top: 6pt;padding-left: 6pt;text-indent: 0pt;text-align: left;"><a name="bookmark116">&zwnj;</a>Flits and AXI Protocol<a name="bookmark125">&zwnj;</a></p><p style="padding-top: 4pt;padding-left: 6pt;text-indent: 0pt;text-align: left;">All transactions on the 2D NoC are carried as small data packets called flits. These are carried serially over the 2D NoC, traversing rows, columns and exiting to the peripheral 2D NoC surrounding the core programmable fabric.</p><p style="padding-top: 5pt;padding-left: 6pt;text-indent: 0pt;text-align: left;">The AXI protocol defines five asynchronous channels:</p><p class="s18" style="padding-top: 11pt;padding-left: 22pt;text-indent: 0pt;text-align: left;">1. <span class="p">Write request</span></p><p class="s18" style="padding-top: 5pt;padding-left: 22pt;text-indent: 0pt;text-align: left;">2. <span class="p">Write data</span></p><p class="s18" style="padding-top: 4pt;padding-left: 22pt;text-indent: 0pt;text-align: left;">3. <span class="p">Write response</span></p><p class="s18" style="padding-top: 5pt;padding-left: 22pt;text-indent: 0pt;text-align: left;">4. <span class="p">Read request</span></p><p class="s18" style="padding-top: 4pt;padding-left: 22pt;text-indent: 0pt;text-align: left;">5. <span class="p">Read data</span></p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="padding-left: 6pt;text-indent: 0pt;text-align: left;">According to the AXI specification, these channels should be considered independent, and can issue requests and responses independently of each other.</p><p style="padding-top: 5pt;padding-left: 6pt;text-indent: 0pt;text-align: left;">When using an AXI NAP, these channels are presented as the five independent channels. However, within the NAP, each channel transaction is converted to or from flits, which are sent serially and in order through the 2D NoC. This creates a dependency between the AXI channels. In the case that an AXI NAP blocks one of the AXI channels by not responding, this blocks the other channels as the flit awaiting a response is held, causing &quot;head of line&quot; blocking.</p><p style="text-indent: 0pt;text-align: left;"><span><img width="672" height="151" alt="image" src="Image_097.png"/></span></p><div class="textbox" style="border:0.8pt solid #9EB6D3;display:block;min-height:112.3pt;width:503.2pt;"><p class="s22" style="padding-top: 4pt;padding-left: 30pt;text-indent: 0pt;text-align: left;">Note</p><p style="padding-top: 3pt;text-indent: 0pt;text-align: left;"><br/></p><p class="s23" style="padding-left: 60pt;text-indent: 0pt;text-align: left;">User designs should ensure that AXI NAPs assert their respective &quot;channel ready&quot; signals whenever they issue a transaction (AXI Responder NAP) or are designed to accept transactions (AXI Initiator NAP).</p><p class="s23" style="padding-top: 5pt;padding-left: 60pt;text-indent: 0pt;text-align: left;"><a href="https://www.achronix.com/documentation/speedster7t-soft-ip-user-guide-ug103" style=" color: #303030; font-family:Arial, sans-serif; font-style: normal; font-weight: normal; text-decoration: none; font-size: 10pt;" target="_blank">For detailed information on the AXI initiator and responder NAPs, please refer to the appropriate chapters in the </a><a href="https://www.achronix.com/documentation/speedster7t-soft-ip-user-guide-ug103" class="s33" target="_blank">Speedster7t Soft IP User Guide </a><span style=" color: #007D39; font-family:Arial, sans-serif; font-style: normal; font-weight: normal; text-decoration: none; font-size: 10pt;">(UG103)</span>.</p></div><p style="text-indent: 0pt;text-align: left;"/><p style="padding-top: 5pt;padding-left: 6pt;text-indent: 0pt;text-align: left;">For example, if an AXI Responder NAP is both reading and writing, then having issued a write request, write data and read request, it should ensure that <span class="s19">rready </span>and <span class="s19">bready </span>are both asserted in order to accept the write response and read data. If <span class="s19">bready </span>is not asserted, and the write response is received first at the NAP, that flit is held waiting <span class="s19">bready</span>. This blocks any other flits, such as the those with the read data. In this way it would appear that the read never returned any data and, at the same time, the read data could be overflowing the NAP buffer on to the 2D NoC row, blocking any other NAPs. Equally, if <span class="s19">rready </span>is not asserted, and the read data is received first, it is held, and blocks the write response flit.</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="nav">&nbsp;&nbsp;</p><p class="nav">&nbsp;</p><p class="nav"><a href="part60.htm">&lt; Previous</a><span> | </span><a href="../Speedster7t_2D_Network_on_Chip_User_Guide_UG089.html">Contents</a><span> | </span><a href="part62.htm">Next &gt;</a></p><p class="nav">&nbsp;&nbsp;</p></body></html>
