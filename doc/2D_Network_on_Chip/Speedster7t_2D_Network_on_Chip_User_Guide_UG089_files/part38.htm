<!DOCTYPE  html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=utf-8"/><title>Quad-Segmented Mode</title><link href="navigation.css" rel="stylesheet" type="text/css"/><link href="document.css" rel="stylesheet" type="text/css"/></head><body><p class="top_nav"><a href="part37.htm">&lt; Previous</a><span> | </span><a href="../Speedster7t_2D_Network_on_Chip_User_Guide_UG089.html">Contents</a><span> | </span><a href="part39.htm">Next &gt;</a></p><p class="s17" style="padding-top: 18pt;padding-left: 6pt;text-indent: 0pt;text-align: left;"><a name="bookmark70">&zwnj;</a>Quad-Segmented Mode<a name="bookmark79">&zwnj;</a></p><p style="padding-top: 4pt;padding-left: 6pt;text-indent: 0pt;text-align: left;">In quad-segmented mode, the 2D NoC sends a 1024-bit bus that is segmented across four NAPs. This applies to both 200G and 400G modes, quad mode always uses four NAPs. This mode makes the user logic a little more complex as the design logically is one large packet processing engine distributed across the four NAP locations. This mode does guarantee in-order packet arrival, and larger packets arrive with less latency than in packet mode as previously described. Because the bus is segmented, packets can potentially start at any of the four NAPs, and up to two packets can arrive in a single fabric clock cycle.</p><p style="padding-top: 5pt;padding-left: 6pt;text-indent: 0pt;text-align: left;">Similar to the previously described packet mode, the FPGA logic can be spread across the space of four NAPs on the designated columns, rather than having to be placed immediately next to the Ethernet subsystem. This arrangement helps ease congestion, and because the design can be split across four NAPs, the frequency can be reduced similar to the packet mode. For example, a single processing engine for a 400GE solution would require a 1024-bit bus running at approximately 728 MHz, whereas the quad-segmented mode for either 400G or 200G uses four NAPs and requires four 256-bit buses running at 507 MHz. The following figure shows how the packets are arranged and segmented for the quad-segmented mode.</p><p style="padding-top: 3pt;text-indent: 0pt;text-align: left;"><br/></p><p style="padding-left: 9pt;text-indent: 0pt;text-align: left;"><span><img width="670" height="246" alt="image" src="Image_053.png"/></span></p><p class="s14" style="padding-top: 6pt;padding-left: 30pt;text-indent: 0pt;text-align: center;">Figure 16: <span class="h4">Packet Segmentation for Quad-Segmented Mode</span></p><p style="padding-top: 10pt;padding-left: 6pt;text-indent: 0pt;text-align: left;">Each packet is distributed across four NAPs located on the designated columns of the 2D NoC. Each 32-byte segment is dedicated to a specific NAP in the group of four. The packet processing engine should be located close to the four NAPs. The following figure shows the four NAPs distributed in two columns, but placed close together. The specific placement of the NAPs is a design choice. It is equally possible to have all four NAPs located on a single column, or grouped farther apart.</p><p style="padding-top: 4pt;text-indent: 0pt;text-align: left;"><br/></p><p style="padding-left: 42pt;text-indent: 0pt;text-align: left;"><span><img width="571" height="495" alt="image" src="Image_054.png"/></span></p><p class="s14" style="padding-top: 11pt;padding-left: 30pt;text-indent: 0pt;text-align: center;">Figure 17: <span class="h4">Quad-Segmented Mode on the 2D NoC</span></p><p style="padding-top: 10pt;padding-left: 6pt;text-indent: 0pt;text-align: left;"><a href="https://www.achronix.com/documentation/speedster7t-ethernet-user-guide-ug097" class="s3" target="_blank">For full details on the Ethernet modes and the Ethernet MAC, refer to the </a><a href="https://www.achronix.com/documentation/speedster7t-ethernet-user-guide-ug097" class="s21" target="_blank">Speedster7t Ethernet User Guide</a></p><p class="s16" style="padding-left: 6pt;text-indent: 0pt;text-align: left;">(UG097)<span style=" color: #303030;">.</span></p><p class="nav">&nbsp;&nbsp;</p><p class="nav">&nbsp;</p><p class="nav"><a href="part37.htm">&lt; Previous</a><span> | </span><a href="../Speedster7t_2D_Network_on_Chip_User_Guide_UG089.html">Contents</a><span> | </span><a href="part39.htm">Next &gt;</a></p><p class="nav">&nbsp;&nbsp;</p></body></html>
