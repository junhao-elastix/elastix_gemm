<!DOCTYPE  html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=utf-8"/><title>Sharing the JTAG Interface with Snapshot</title><link href="navigation.css" rel="stylesheet" type="text/css"/><link href="document.css" rel="stylesheet" type="text/css"/></head><body><p class="top_nav"><a href="part140.htm">&lt; Previous</a><span> | </span><a href="../Speedster7t_Soft_IP_User_Guide_UG103_3.html">Contents</a><span> | </span><a href="part142.htm">Next &gt;</a></p><p class="s4" style="padding-left: 5pt;text-indent: 0pt;text-align: left;"><a name="bookmark230">&zwnj;</a>Sharing the JTAG Interface with Snapshot<a name="bookmark280">&zwnj;</a></p><p style="text-indent: 0pt;text-align: left;"><span><img width="71" height="20" alt="image" src="Image_843.png"/></span></p><p style="text-indent: 0pt;text-align: left;"><span><img width="64" height="20" alt="image" src="Image_844.png"/></span></p><p style="text-indent: 0pt;text-align: left;"><span><img width="67" height="20" alt="image" src="Image_845.png"/></span></p><p style="text-indent: 0pt;text-align: left;"><span><img width="68" height="20" alt="image" src="Image_846.png"/></span></p><p style="padding-top: 5pt;padding-left: 5pt;text-indent: 0pt;line-height: 141%;text-align: left;">The snapshot debug tool, used to observe signals in a design, is independent of the ACX_DEVICE_MANAGER, but also uses the JTAG interface to interact with ACE. The ACX_DEVICE_MANAGER has two ports ( <span class="s29">o_jtap_bus </span>and <span class="s29">i_tdo_bus </span>) that pass the JTAG signals through so that the interface can be shared. The ACX_SNAPSHOT_UNIT</p><p style="text-indent: 0pt;text-align: left;"><span><img width="665" height="264" alt="image" src="Image_847.png"/></span></p><p class="s35" style="text-indent: 0pt;line-height: 12pt;text-align: left;"></p><p style="text-indent: 0pt;text-align: left;"/><h2 style="text-indent: 0pt;line-height: 10pt;text-align: left;">Caution!</h2><p style="padding-top: 6pt;padding-left: 30pt;text-indent: -12pt;text-align: left;">1. It is necessary to use the ACX_SNAPSHOT_UNIT when using the ADM. ACX_SNAPSHOT cannot be connected.</p><p style="padding-top: 7pt;padding-left: 30pt;text-indent: -13pt;line-height: 111%;text-align: left;">2. <span class="s29">o_jtap_bus </span>is not a simple wire, but instead, is type <span class="s29">t_JTAP_BUS </span>. This type must be used in the wire declaration. When connected in this manner, the snapshot debug tool operates normally but with the caveat that follows in point 3 (This caveat may change in future versions of ACE).</p><p style="padding-top: 3pt;padding-left: 16pt;text-indent: 0pt;text-align: left;">3. To use the snapshot debug tool, the ACE JTAG connection must be closed using the</p><p class="s29" style="padding-top: 4pt;padding-left: 30pt;text-indent: 2pt;line-height: 111%;text-align: left;">&lt;device_namespace&gt;::close_jtag <span class="p">Tcl command. This is because snapshot establishes its own connection to the JTAG driver in a different way, and the driver cannot have both connections open simultaneously. When a snapshot has been taken, the JTAG interface connected can be opened</span></p><p style="padding-left: 30pt;text-indent: 0pt;line-height: 14pt;text-align: left;">again with the <span class="s29">&lt;device_namespace&gt;::open_jtag </span>coomand, to allow use of Tcl commands via JTAG. The JTAG connection can be opened and closed repeatedly without affecting the running design.</p><p style="text-indent: 0pt;text-align: left;"/><p style="padding-left: 5pt;text-indent: 0pt;line-height: 118%;text-align: left;">module has matching ports ( <span class="s29">i_jtap_bus </span>and <span class="s29">o_tdo_bus </span>) that should be connected to the ACX_DEVICE_MANAGER.</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="padding-left: 6pt;text-indent: 0pt;text-align: left;"><span><img width="673" height="154" alt="image" src="Image_848.png"/></span></p><p style="padding-top: 2pt;text-indent: 0pt;text-align: left;"><br/></p><h1 style="padding-left: 47pt;text-indent: 0pt;text-align: left;">Figure 65 • JTAG Connection Shared Between ACX_DEVICE_MANAGER and Snapshot</h1><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="nav">&nbsp;&nbsp;</p><p class="nav">&nbsp;</p><p class="nav"><a href="part140.htm">&lt; Previous</a><span> | </span><a href="../Speedster7t_Soft_IP_User_Guide_UG103_3.html">Contents</a><span> | </span><a href="part142.htm">Next &gt;</a></p><p class="nav">&nbsp;&nbsp;</p></body></html>
