<!DOCTYPE  html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=utf-8"/><title>FPGA Temperature</title><link href="navigation.css" rel="stylesheet" type="text/css"/><link href="document.css" rel="stylesheet" type="text/css"/></head><body><p class="top_nav"><a href="part141.htm">&lt; Previous</a><span> | </span><a href="../Speedster7t_Soft_IP_User_Guide_UG103_3.html">Contents</a><span> | </span><a href="part143.htm">Next &gt;</a></p><p class="s13" style="padding-left: 5pt;text-indent: 0pt;text-align: left;"><a name="bookmark231">&zwnj;</a>FPGA Temperature<a name="bookmark281">&zwnj;</a></p><p style="padding-top: 7pt;padding-left: 5pt;text-indent: 0pt;text-align: left;">At startup, the ACX_DEVICE_MANAGER configures the FPGA builtin temperature sensor for continuous sampling. The ACX_DEVICE_MANAGER status output has two bits that are high when pre-set temperature limits are exceeded. These can be observed by the design, or brought out via GPIO pins, to throttle the design or possibly shut down the board (the device manager merely observes the temperature, it does not shut down the board or FPGA).</p><p style="padding-top: 8pt;text-indent: 0pt;text-align: left;"><br/></p><p class="s15" style="padding-left: 5pt;text-indent: 0pt;text-align: left;">Table 48 • ACX_DEVICE_MANAGER Temperature Status Outputs</p><p style="padding-top: 4pt;text-indent: 0pt;text-align: left;"><br/></p><table style="border-collapse:collapse;margin-left:6.065pt" cellspacing="0"><tr style="height:30pt"><td style="width:190pt;border-top-style:solid;border-top-width:1pt;border-top-color:#DDDDDD;border-left-style:solid;border-left-width:1pt;border-left-color:#DDDDDD;border-bottom-style:solid;border-bottom-width:1pt;border-bottom-color:#DDDDDD;border-right-style:solid;border-right-width:1pt;border-right-color:#DDDDDD" bgcolor="#007D39"><p class="s16" style="padding-top: 5pt;text-indent: 0pt;text-align: center;">Bit</p></td><td style="width:308pt;border-top-style:solid;border-top-width:1pt;border-top-color:#DDDDDD;border-left-style:solid;border-left-width:1pt;border-left-color:#DDDDDD;border-bottom-style:solid;border-bottom-width:1pt;border-bottom-color:#DDDDDD;border-right-style:solid;border-right-width:1pt;border-right-color:#DDDDDD" bgcolor="#007D39"><p class="s16" style="padding-top: 5pt;text-indent: 0pt;text-align: center;">Description</p></td></tr><tr style="height:34pt"><td style="width:190pt;border-top-style:solid;border-top-width:1pt;border-top-color:#DDDDDD;border-left-style:solid;border-left-width:1pt;border-left-color:#DDDDDD;border-bottom-style:solid;border-bottom-width:1pt;border-bottom-color:#DDDDDD;border-right-style:solid;border-right-width:1pt;border-right-color:#DDDDDD"><p style="text-indent: 0pt;text-align: left;"><span><img width="80" height="20" alt="image" src="Image_849.png"/></span></p><p class="s22" style="padding-top: 8pt;padding-left: 9pt;text-indent: 0pt;text-align: left;">o_status[17]</p></td><td style="width:308pt;border-top-style:solid;border-top-width:1pt;border-top-color:#DDDDDD;border-left-style:solid;border-left-width:1pt;border-left-color:#DDDDDD;border-bottom-style:solid;border-bottom-width:1pt;border-bottom-color:#DDDDDD;border-right-style:solid;border-right-width:1pt;border-right-color:#DDDDDD"><p class="s17" style="padding-top: 7pt;padding-left: 6pt;text-indent: 0pt;text-align: left;">Temperature alarm 0 – high when the FPGA temperature is ≥ 85°C.</p></td></tr><tr style="height:34pt"><td style="width:190pt;border-top-style:solid;border-top-width:1pt;border-top-color:#DDDDDD;border-left-style:solid;border-left-width:1pt;border-left-color:#DDDDDD;border-bottom-style:solid;border-bottom-width:1pt;border-bottom-color:#DDDDDD;border-right-style:solid;border-right-width:1pt;border-right-color:#DDDDDD"><p style="text-indent: 0pt;text-align: left;"><span><img width="80" height="20" alt="image" src="Image_850.png"/></span></p><p class="s22" style="padding-top: 8pt;padding-left: 9pt;text-indent: 0pt;text-align: left;">o_status[18]</p></td><td style="width:308pt;border-top-style:solid;border-top-width:1pt;border-top-color:#DDDDDD;border-left-style:solid;border-left-width:1pt;border-left-color:#DDDDDD;border-bottom-style:solid;border-bottom-width:1pt;border-bottom-color:#DDDDDD;border-right-style:solid;border-right-width:1pt;border-right-color:#DDDDDD"><p class="s17" style="padding-top: 7pt;padding-left: 6pt;text-indent: 0pt;text-align: left;">Temperature alarm 1 – high when the FPGA temperature is ≥ 100°C.</p></td></tr></table><p style="text-indent: 0pt;text-align: left;"><span><img width="71" height="20" alt="image" src="Image_851.png"/></span></p><p class="s29" style="padding-top: 1pt;padding-left: 2pt;text-indent: 0pt;text-align: left;">fpga_temp</p><p style="text-indent: 0pt;text-align: left;"/><p style="padding-top: 7pt;padding-left: 5pt;text-indent: 0pt;text-align: left;">When a JTAG connection is present, the      Tcl command can be used.</p><p style="text-indent: 0pt;text-align: left;"><span><img width="90" height="20" alt="image" src="Image_852.png"/></span></p><p style="padding-top: 10pt;padding-left: 5pt;text-indent: 0pt;text-align: justify;">The current temperature can also be observed directly by reading the CSR register, <span class="s29">080c00000d8 </span>. CSR registers</p><p style="text-indent: 0pt;text-align: left;"><span><img width="209" height="20" alt="image" src="Image_853.png"/></span></p><p style="text-indent: 0pt;text-align: left;"><span><img width="102" height="20" alt="image" src="Image_854.png"/></span></p><p style="padding-top: 5pt;padding-left: 5pt;text-indent: 0pt;line-height: 126%;text-align: justify;">can be read with Tcl via JTAG ( <span class="s29">ac7t1500::noc_read 080c00000d8 </span>), but can also be read through the 2D NoC, via a NAP. This way, a design can implement its own temperature alarms. The return value of the CSR register is a 16-bit sample value. It can be converted to degrees C with Tcl command <span class="s29">fpga_temp_to_c </span>, or by computing</p><p style="padding-top: 4pt;padding-left: 193pt;text-indent: 0pt;text-align: justify;">a + b × (sample / 4096 – 0.5)</p><p style="padding-top: 5pt;padding-left: 5pt;text-indent: 0pt;text-align: left;">where a = 71.4 and b = 283.</p><p style="padding-top: 9pt;padding-left: 5pt;text-indent: 0pt;line-height: 120%;text-align: left;">The reverse calculation is performed by the easier.</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="text-indent: 0pt;text-align: left;"><span><img width="102" height="20" alt="image" src="Image_855.png"/></span></p><p class="s29" style="padding-top: 1pt;padding-left: 2pt;text-indent: 0pt;text-align: left;">fpga_c_to_temp</p><p style="text-indent: 0pt;text-align: left;"/><p style="padding-left: 5pt;text-indent: 0pt;text-align: left;">Tcl command, to make comparison of sample values</p><p class="nav">&nbsp;&nbsp;</p><p class="nav">&nbsp;</p><p class="nav"><a href="part141.htm">&lt; Previous</a><span> | </span><a href="../Speedster7t_Soft_IP_User_Guide_UG103_3.html">Contents</a><span> | </span><a href="part143.htm">Next &gt;</a></p><p class="nav">&nbsp;&nbsp;</p></body></html>
